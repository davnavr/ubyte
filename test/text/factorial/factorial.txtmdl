(module (format 0 0) (name "Factorial") (version 1)
  (identifier $id_namespace "Example.Factorial")
  (identifier $id_class "Factorial")
  (identifier $id_entry_point "main")
  (identifier $id_factorial "factorial")

  (signature $sig_int (type s32))

  (signature $sig_main (method (returns $sig_int)))

  (signature $sig_factorial (method (returns $sig_int) (parameters $sig_int)))

  (code $code_factorial
    (registers (argument $l0 0) (local $l1 $sig_int))

    (br.zero $l0 5)
    (const.i32 1 $l1)
    (sub $l0 $l1 $l1)
    (call $method_factorial (arguments $l1) (returns $l1))
    (mul $l0 $l1 $l0)
    (ret $l0)
  )

  (code $code_main
    (registers (local $l0 $sig_int))

    (const.i32 9 $l0)
    (call $method_factorial (arguments $l0) (returns $l0))
    (ret $l0)
  )

  (namespace $namespace (name $id_namespace))

  (type $class_program (name $id_class) (namespace $namespace)
    (visibility public)
    (class base)
  )

  (method $method_main (name $id_entry_point) (visibility public)
    (signature $sig_main)
    (defined $code_main)
    (owner $class_program)
  )

  (method $method_factorial (name $id_factorial) (visibility private)
    (signature $sig_factorial)
    (defined $code_factorial)
    (owner $class_program)
  )

  (entrypoint $method_main)
)
