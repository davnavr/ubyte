(module (format 0 0) (name "DefinedMethodCallExample") (version 1)
  (identifier $id_namespace "Example")
  (identifier $id_class "Program")
  (identifier $id_entry_point "main")
  (identifier $id_helper "helper")

  (signature $sig_int (type s32))

  (signature $sig_main (method (returns $sig_int)))

  (signature $sig_helper (method (returns $sig_int) (parameters $sig_int)))

  (code $code_helper
    (registers
      (argument $l0 0)
      (local $l_sum $sig_int))

    (const.i32 12 $l_sum)
    (add $l_sum $l0 $l_sum)
    (ret $l_sum)
  )

  (code $code_main
    (registers (local $l0 $sig_int))

    (const.i32 9 $l0)
    (call $method_helper (arguments $l0) (returns $l0))
    (ret $l0)
  )

  (namespace $namespace_example (name $id_namespace))

  (type $class_program (name $id_class) (namespace $namespace_example)
    (visibility public)
    (class base)
  )

  (method $method_main (name $id_entry_point) (visibility public)
    (signature $sig_main)
    (defined $code_main)
    (owner $class_program)
  )

  (method $method_helper (name $id_helper) (visibility private)
    (signature $sig_helper)
    (defined $code_helper)
    (owner $class_program)
  )

  (entrypoint $method_main)
)
